<topnav toggle="toggleSideMenu()" icon="icon-rt-collector" section="Collectors" show-menu-btn="!grafana.sidemenu">
	<ul class="nav">
		<li class="top-nav-title ng-binding"> <!-- <span class="top-nav-title ng-binding" style="margin-left:-20px; margin-right:20px;">{{collector.name}}</span> -->
			<div>
				<form style="margin-bottom:0px;">
					<!-- <select ng-model="collector" ng-options="c as c.name for c in collectors" ng-change="setLocation(collector.id)"></select> -->
					<li class="dropdown">
						<a class="pointer" data-toggle="dropdown" ng-click="openSearch()">
							<span>{{collector.name}}</span><i class="fa fa-caret-down small" style="position:relative; top:5px; left:10px;"></i>
				   		</a>
						<ul class="dropdown-menu" role="menu" style="left: 65px">
							<li ng-repeat="collector in collectors">
								<a class="small" href="collectors/summary/{{collector.id}}">{{collector.name}}</a>
							</li>
						</ul>
					</li>
				</form>
			</div>
		</li>
		<!--  <li class="active" style="margin-left:200px;"><a href="collectors/summary/{{collector.id}}">Summary</a></li>
		<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin"><a href="collectors/edit/{{collector.id}}">Edit</a></li> -->
	</ul>
</topnav>

<div style="margin: 10px; position: relative; display: block; max-width: 1300px; min-width:400px;">
	
	<!-- page title -->
	<div class="rt-page-header-area">
		<h1 class="rt-h1">{{collector.name}}</h1>
		
		<span class="collector_icon public"><i ng-class="icon" class="icon-rt-raintank_icn" style="" ng-if="collector.public == 1" bs-tooltip="'This is a public collector'"></i></span>
		<span class="collector_icon private"><i ng-class="icon" class="icon-rt-private-collector" style="" ng-if="collector.public == 0" bs-tooltip="'This is a private collector'"></i></span>
	</div>

	<!-- tabs -->
	<div class="rt-tabs">
		<span class="active"><a href="collectors/summary/{{collector.id}}">Summary</a></span>  <span class="nonactive" ng-hide="collector.public && !contextSrv.isGrafanaAdmin"><a href="collectors/edit/{{collector.id}}">Configuration</a></span>
	</div>
</div>	

<form name="collectorForm">
	<div class="detailContainer">
		<div class="detailColumn detailLeft">
		<div class="rt-box clearBack oneCol">
				<span><a class="superCTA" ng-click="gotoDashboard(collector)">Go to {{collector.name}} Dashboard <img class="dashboard-icon"src="img/rt-dashboard.svg" width="20px" height="20px"></a></span>
			</div>
			<div class="rt-box">
				<div class="rt-box-header">
					<div style="padding:10px;">Status Since Last Check</div>
					<div class="dropdown" style="display: inline; position:absolute; top:20px; right:10px; z-index:1000;">
						<a data-toggle="dropdown">
							<i ng-class="icon" class="icon-rt-bulk_action miniCTA"></i>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li>
								<a href="collectors/summary/{{collector.id}}">
									View
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin"h>
								<a href="collectors/edit/{{collector.id}}">
									Edit
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin">
								<a ng-click="remove(collector)">
									Delete
								</a>
							</li>
						</ul>
					</div>
				</div>


				<div class="rt-box-body no-padding" style="min-height: 50px">
					<div class="collectorCurrentStatus">
						<div class="collectorStatus">
							<div class="pull-left msg">This collector is <span ng-class="{disabled: !collector.enabled, enabled: collector.enabled}">{{collector.enabled? "enabled": "disabled"}}</span>.</div>
							<a ng-if="!(collector.public && !contextSrv.isGrafanaAdmin)" class="pull-right tertiaryCTA" ng-click="setEnabled(!collector.enabled)" ng-hide="collector.enabled">Enable</a>
							<a ng-if="!(collector.public && !contextSrv.isGrafanaAdmin)" class="pull-right tertiaryCTA" ng-click="setEnabled(!collector.enabled)" ng-show="collector.enabled">Disable</a>
						</div>

						<span class="{{collector.online?'online':'offline'}} jumbo">{{collector.online?'online':'offline'}}</span> <!--<span class="statusMsg">for 12 days</span>-->

						<div class="statusEvents" >
							<rt-collector-summary-health model="collector"></rt-collector-summary-health>
						</div>
						<div class="secondaryCTA">View All Errors</div>
						<div class="clearfix"></div>
					</div>
				</div>
			</div>


			<div class="rt-box">
				<div class="rt-box-header">
					<div style="padding:10px;">Collector Location</div>
					<div class="dropdown" style="display: inline; position:absolute; top:20px; right:10px; z-index:1000;">
						<a data-toggle="dropdown">
							<i ng-class="icon" class="icon-rt-bulk_action miniCTA"></i>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li>
								<a href="collectors/summary/{{collector.id}}">
									View
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin">
								<a href="collectors/edit/{{collector.id}}">
									Edit
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin">
								<a ng-click="remove(collector)">
									Delete
								</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="rt-box-body" style="min-height: 50px;">
					<div class="collectorMap no-margin">
						<div class="locationDetail">
							<h3>{{collector.name}}</h3>
							<dl>
								<dt>Science Park</dt> 
								<dt>610 NL-1098 XH AMSTERDAM</dt> 
								<dt>The Netherlands</dt>
							</dl>
						</div>
					</div>
				</div>
			</div>

			<div class="rt-box">
				<div class="rt-box-header">
					<div style="padding:10px;">Exposure</div>
					<div class="dropdown" style="display: inline; position:absolute; top:20px; right:10px; z-index:1000;">
						<a data-toggle="dropdown">
							<i ng-class="icon" class="icon-rt-bulk_action miniCTA"></i>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li>
								<a href="collectors/summary/{{collector.id}}">
									View
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin"h>
								<a href="collectors/edit/{{collector.id}}">
									Edit
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin">
								<a ng-click="remove(collector)">
									Delete
								</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="rt-box-body" style="min-height: 50px">
					<span ng-show="collector.public">Public</span>
					<span ng-hide="collector.public">Private</span>
				</div>
			</div>
		</div>
		<div class="detailColumn detailRight">
			<div class="rt-box clearBack twoCol">
				<span><a class="superCTA" ng-click="gotoDashboard(collector)">Go to {{collector.name}} Dashboard <img class="dashboard-icon"src="img/rt-dashboard.svg" width="20px" height="20px"></a></span>
			</div>
			<div class="rt-box">
				<div class="rt-box-header">
					<div style="padding:10px;">Tags</div>
					<div class="dropdown" style="display: inline; position:absolute; top:20px; right:10px; z-index:1000;">
						<a data-toggle="dropdown">
							<i ng-class="icon" class="icon-rt-bulk_action miniCTA"></i>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li>
								<a href="collectors/summary/{{collector.id}}">
									View
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin"h>
								<a href="collectors/edit/{{collector.id}}">
									Edit
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin">
								<a ng-click="remove(collector)">
									Delete
								</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="rt-box-body" style="min-height: 50px">
					<div class="editor-row">
						<div class="editor-option">
							<bootstrap-tagsinput ng-model="collector.tags" tagclass="label rt-label-tag" placeholder="Add New Tag" on-update="tagsUpdated"></bootstrap-tagsinput>
							<tip>You can also press enter to a add tag</tip>
						</div>
					</div>
				</div>
			</div>
			
			<div class="rt-box">
				<div class="rt-box-header">
					<div style="padding:10px;">Recent Events</div>
					<div class="dropdown" style="display: inline; position:absolute; top:20px; right:10px; z-index:1000;">
						<a data-toggle="dropdown">
							<i ng-class="icon" class="icon-rt-bulk_action miniCTA"></i>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li>
								<a href="collectors/summary/{{collector.id}}">
									View
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin"h>
								<a href="collectors/edit/{{collector.id}}">
									Edit
								</a>
							</li>
							<li ng-hide="collector.public && !contextSrv.isGrafanaAdmin">
								<a ng-click="remove(collector)">
									Delete
								</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="rt-box-body" style="min-height: 50px">
					TODO: add recent events
				</div>
			</div>
		</div>
	</div>	
</form>
